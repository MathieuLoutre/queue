(function(){function n(n){function t(){for(;r=a.length>p&&n>s;){var t=p++,o=a[t],f=u,i=l.call(o,1);"function"==typeof i[i.length-1]&&(f=i.pop()),i.push(e(t,f)),++s,o[0].apply(null,i)}}function e(n,u){return function(l,e){--s,null==f&&(null!=l?(f=l,p=d=0/0,o()):(u(e,p,d-1),a[n]=e,--d?r||t():o()))}}function o(){null!=f?h(f):i?h(null,a):h.apply(null,[null].concat(a))}var r,f,i,c={},a=[],p=0,s=0,d=0,h=u;return n||(n=1/0),c.defer=function(){return f||(a.push(arguments),++d,t()),c},c.await=function(n){return h=n,i=!1,d||o(),c},c.awaitAll=function(n){return h=n,i=!0,d||o(),c},c}function u(){}"undefined"==typeof module?self.queue=n:module.exports=n,n.version="1.0.3";var l=[].slice})();